(function(t){function e(e){for(var i,o,r=e[0],s=e[1],d=e[2],p=0,f=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(e);while(f.length)f.shift()();return c.push.apply(c,d||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(i=!1)}i&&(c.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},c=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var d=0;d<r.length;d++)e(r[d]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0420":function(t,e,n){t.exports=n.p+"media/03n.d323b925.mp4"},"0698":function(t,e,n){t.exports=n.p+"media/09n.dd9c4f11.mp4"},"07b7":function(t,e,n){t.exports=n.p+"img/10d.4601742c.svg"},"09c9":function(t,e,n){},"0a89":function(t,e,n){t.exports=n.p+"img/13d.035cc16d.svg"},"0b8c":function(t,e,n){t.exports=n.p+"img/09d.06e5312a.svg"},"0c9d":function(t,e,n){t.exports=n.p+"img/50n.40d7b29b.svg"},"0cff":function(t,e,n){t.exports=n.p+"media/10n.dd9c4f11.mp4"},"0da8":function(t,e,n){t.exports=n.p+"media/04d.fbf57056.mp4"},"0ec2":function(t,e,n){t.exports=n.p+"img/04n.3bb6a2b8.svg"},"33ab":function(t,e,n){},"39a6":function(t,e,n){t.exports=n.p+"img/03d.3bb6a2b8.svg"},"3c3f":function(t,e,n){"use strict";n("a313")},"3f30":function(t,e,n){},"417e":function(t,e,n){t.exports=n.p+"media/11d.dd9c4f11.mp4"},"41ad":function(t,e,n){t.exports=n.p+"img/10n.e5d3aef1.svg"},"4c4c":function(t,e,n){var i={"./01d.svg":"7525","./01n.svg":"d9bd","./02d.svg":"7760","./02n.svg":"c5db","./03d.svg":"39a6","./03n.svg":"4e91","./04d.svg":"d2c5","./04n.svg":"0ec2","./09d.svg":"0b8c","./09n.svg":"a17f","./10d.svg":"07b7","./10n.svg":"41ad","./11d.svg":"9127","./11n.svg":"faf2","./13d.svg":"0a89","./13n.svg":"b63a","./50d.svg":"a75d","./50n.svg":"0c9d","./clouds-sun-light.svg":"ba0a"};function a(t){var e=c(t);return n(e)}function c(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=c,t.exports=a,a.id="4c4c"},"4c58":function(t,e,n){t.exports=n.p+"media/02n.d323b925.mp4"},"4e91":function(t,e,n){t.exports=n.p+"img/03n.3bb6a2b8.svg"},"54ef":function(t,e,n){t.exports=n.p+"media/13d.7d6eb41b.mp4"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.modalOpen?n("Modal",{attrs:{APIKEY:t.APIKEY},on:{"close-modal":t.toggleModal}}):t._e(),n("Navigation",{attrs:{addCityActive:t.addCityActive,isDay:t.isDay,isNight:t.isNight},on:{"add-city":t.toggleModal,"edit-city":t.toggleEdit}}),n("router-view",{attrs:{cities:t.cities,edit:t.edit,APIKEY:t.APIKEY},on:{"is-day":t.dayTime,"is-night":t.nightTime,resetDays:t.resetDays}})],1)},c=[],o=n("1da1"),r=(n("96cf"),n("159b"),n("99af"),n("4de4"),n("b0c0"),n("bc3a")),s=n.n(r),d=n("260b"),u=(n("e71f"),"AIzaSyD2f68Q6fULjInusOmLvEtTXbEyFkL9yEM"),p=u,f={apiKey:p,authDomain:"weather-app-2172f.firebaseapp.com",projectId:"weather-app-2172f",storageBucket:"weather-app-2172f.appspot.com",messagingSenderId:"399442422786",appId:"1:399442422786:web:6f2be2329431d5f4e7cb1b"},l=d["a"].initializeApp(f),m=l.firestore(),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.addCityActive?n("header",{staticClass:"container add-city"},[n("nav",[n("span",[t._v("Add City")]),n("div",{staticClass:"right"},[n("i",{ref:"editCities",staticClass:"far fa-edit",on:{click:t.editCities}}),n("i",{staticClass:"fas fa-sync",on:{click:t.reloadApp}}),n("i",{staticClass:"fas fa-plus",on:{click:t.addCity}})])])]):n("header",{staticClass:"container",class:{day:t.isDay,night:t.isNight}},[n("nav",[n("router-link",{staticClass:"router-link",attrs:{to:{name:"AddCity"}}},[n("i",{staticClass:"fas fa-plus"})]),n("span",[t._v(t._s((new Date).toLocaleString("en-us",{weekday:"short"}))+", "+t._s((new Date).toLocaleString("en-us",{month:"short"}))+" "+t._s((new Date).toLocaleString("en-us",{day:"2-digit"})))]),n("span",[t._v("° F")])],1)])])},g=[],v={name:"Navigation",props:["addCityActive","isDay","isNight"],methods:{addCity:function(){this.$emit("add-city")},reloadApp:function(){location.reload()},editCities:function(){this.$refs.editCities.classList.toggle("edit-active"),this.$emit("edit-city")}}},y=v,b=(n("d784"),n("2877")),x=Object(b["a"])(y,h,g,!1,null,"260d8b4d",null),C=x.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"modal",staticClass:"modal",on:{click:t.closeModal}},[n("div",{ref:"modalWrap",staticClass:"modal-wrap"},[n("label",{attrs:{for:"city-name"}},[t._v("Enter Location:")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{type:"text",name:"city-name",placeholder:"Search By City Name"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),n("button",{on:{click:t.addCity}},[t._v("Add")])])])},_=[],O={name:"Modal",props:["APIKEY"],data:function(){return{city:null}},methods:{closeModal:function(t){t.target===this.$refs.modal&&this.$emit("close-modal")},addCity:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==t.city){e.next=4;break}alert("field cannot be empty."),e.next=11;break;case 4:return e.next=6,s.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t.city,"&appid=").concat(t.APIKEY));case 6:return n=e.sent,e.next=9,n.data;case 9:i=e.sent,m.collection("cities").doc().set({city:t.city,currentWeather:i}).then((function(){t.$emit("close-modal")}));case 11:case"end":return e.stop()}}),e)})))()}}},k=O,E=(n("3c3f"),Object(b["a"])(k,w,_,!1,null,"027958e3",null)),A=E.exports,D={name:"App",components:{Navigation:C,Modal:A},data:function(){return{APIKEY:"613e681981238320aeb717754f08b48c",cities:[],modalOpen:null,edit:null,addCityActive:null,isDay:null,isNight:null}},created:function(){this.getCityWeather(),this.checkRoute()},methods:{getCityWeather:function(){var t=this,e=m.collection("cities");e.onSnapshot((function(n){n.docChanges().forEach(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(i){var a,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("added"!==i.type||i.doc.Nd){n.next=14;break}return n.prev=1,n.next=4,s.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(i.doc.data().city,"&appid=").concat(t.APIKEY));case 4:a=n.sent,c=a.data,e.doc(i.doc.id).update({currentWeather:c}).then((function(){t.cities.push(i.doc.data())})),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0);case 12:n.next=15;break;case 14:"added"===i.type&&i.doc.Nd?t.cities.push(i.doc.data()):"removed"===i.type&&(t.cities=t.cities.filter((function(t){return t.city!==i.doc.data().city})));case 15:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(t){return n.apply(this,arguments)}}())}))},toggleModal:function(){this.modalOpen=!this.modalOpen},toggleEdit:function(){this.edit=!this.edit},checkRoute:function(){"AddCity"===this.$route.name?this.addCityActive=!0:this.addCityActive=!1},dayTime:function(){this.isDay=!this.isDay},nightTime:function(){this.isNight=!this.isNight},resetDays:function(){this.isNight=!1,this.isDay=!1}},watch:{$route:function(){this.checkRoute()}}},W=D,j=(n("5c0b"),Object(b["a"])(W,a,c,!1,null,null,null)),N=j.exports,$=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},t._l(t.cities,(function(e,i){return n("div",{key:i,staticClass:"city-link"},[n("City",{attrs:{city:e,edit:t.edit}})],1)})),0)},P=[],M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city",on:{click:t.goToWeather}},[t.edit?i("i",{ref:"edit",staticClass:"far fa-trash-alt edit",on:{click:t.removeCity}}):t._e(),i("span",[t._v(" "+t._s(this.city.city))]),i("div",{staticClass:"weather"},[i("span",[t._v(" "+t._s(""+t.KelvinToCelcius(this.city.currentWeather.main.temp))+" °")]),i("img",{attrs:{src:n("4c4c")("./"+this.city.currentWeather.weather[0].icon+".svg"),alt:""}})]),i("div",{staticClass:"video"},[i("video",{attrs:{autoplay:"",loop:"",muted:"",src:n("f3b4")("./"+this.city.currentWeather.weather[0].icon+".mp4")},domProps:{muted:!0}}),i("div",{staticClass:"bg-overlay"})])])},I=[],K={name:"City",props:["city","edit"],created:function(){console.log(this.city)},data:function(){return{id:null}},methods:{KelvinToCelcius:function(t){var e=Math.round(t-273.15);return e},removeCity:function(){var t=this;m.collection("cities").where("city","==","".concat(this.city.city)).get().then((function(e){e.forEach((function(e){t.id=e.id}))})).then((function(){m.collection("cities").doc(t.id).delete()}))},goToWeather:function(t){t.target===this.$refs.edit||this.$router.push({name:"Weather",params:{city:this.city.city}})}}},S=K,L=(n("6bdf"),Object(b["a"])(S,M,I,!1,null,"4ed30f1c",null)),Y=L.exports,R={name:"AddCity",props:["cities","edit"],created:function(){console.log(this.cities)},components:{City:Y}},U=R,F=(n("9840"),Object(b["a"])(U,T,P,!1,null,"d917edaa",null)),H=F.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[t.loading?n("div",{staticClass:"loading"},[n("span")]):n("div",{staticClass:"weather",class:{day:t.isDay,night:t.isNight}},[n("div",{staticClass:"weather-wrap"})])])},z=[],B={name:"Weather",props:["APIKEY","isDay","isNight"],data:function(){return{forecast:null,currentWeather:null,loading:!0,currentTime:null}},created:function(){this.getWeather()},beforeDestroy:function(){this.$emit("resetDays")},methods:{getWeather:function(){var t=this;m.collection("cities").where("city","==","".concat(this.$route.params.city)).get().then((function(e){e.forEach((function(e){t.currentWeather=e.data().currentWeather,s.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(e.data().currentWeather.coord.lat,"&lon=").concat(e.data().currentWeather.coord.lon,"&exclude=current,minutley,alerts&units=imperial&appid=").concat(t.APIKEY)).then((function(e){t.forecast=e.data})).then((function(){t.loading=!1,t.getCurrentTime()}))}))}))},getCurrentTime:function(){var t=new Date;this.currentTime=t.getHours();var e=new Date(1e3*this.currentWeather.sys.sunrise).getHours(),n=new Date(1e3*this.currentWeather.sys.sunset).getHours();this.currentTime>e&&this.currentTime<n?this.$emit("is-day"):this.$emit("is-night")}}},J=B,Q=(n("f716"),Object(b["a"])(J,q,z,!1,null,"2b91604b",null)),X=Q.exports;i["a"].use($["a"]);var G=[{path:"/",name:"AddCity",component:H},{path:"/weather/:city",name:"Weather",component:X}],V=new $["a"]({mode:"history",base:"/",routes:G}),Z=V;i["a"].config.productionTip=!1,new i["a"]({router:Z,render:function(t){return t(N)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"5dae":function(t,e,n){t.exports=n.p+"media/02d.fbf57056.mp4"},"65c4":function(t,e,n){t.exports=n.p+"media/10d.dd9c4f11.mp4"},"6bdf":function(t,e,n){"use strict";n("33ab")},"6e15":function(t,e,n){t.exports=n.p+"media/03d.fbf57056.mp4"},"72ff":function(t,e,n){t.exports=n.p+"media/50n.dd9c4f11.mp4"},7525:function(t,e,n){t.exports=n.p+"img/01d.f9c9ae33.svg"},7760:function(t,e,n){t.exports=n.p+"img/02d.52bad4ac.svg"},"88e5":function(t,e,n){t.exports=n.p+"media/50d.dd9c4f11.mp4"},9127:function(t,e,n){t.exports=n.p+"img/11d.7a052770.svg"},"94f0":function(t,e,n){},9840:function(t,e,n){"use strict";n("3f30")},"9c0c":function(t,e,n){},a17f:function(t,e,n){t.exports=n.p+"img/09n.06e5312a.svg"},a313:function(t,e,n){},a447:function(t,e,n){t.exports=n.p+"media/13n.33a65a7f.mp4"},a75d:function(t,e,n){t.exports=n.p+"img/50d.40d7b29b.svg"},b63a:function(t,e,n){t.exports=n.p+"img/13n.035cc16d.svg"},b750:function(t,e,n){t.exports=n.p+"media/01d.0da1fbd1.mp4"},ba0a:function(t,e,n){t.exports=n.p+"img/clouds-sun-light.f9c0c0f7.svg"},c266:function(t,e,n){t.exports=n.p+"media/01n.68cb9d4e.mp4"},c5db:function(t,e,n){t.exports=n.p+"img/02n.e63f89f9.svg"},c938:function(t,e,n){t.exports=n.p+"media/04n.d323b925.mp4"},cc21:function(t,e,n){t.exports=n.p+"media/09d.dd9c4f11.mp4"},d2c5:function(t,e,n){t.exports=n.p+"img/04d.3bb6a2b8.svg"},d784:function(t,e,n){"use strict";n("94f0")},d9bd:function(t,e,n){t.exports=n.p+"img/01n.77b0faca.svg"},f3b4:function(t,e,n){var i={"./01d.mp4":"b750","./01n.mp4":"c266","./02d.mp4":"5dae","./02n.mp4":"4c58","./03d.mp4":"6e15","./03n.mp4":"0420","./04d.mp4":"0da8","./04n.mp4":"c938","./09d.mp4":"cc21","./09n.mp4":"0698","./10d.mp4":"65c4","./10n.mp4":"0cff","./11d.mp4":"417e","./11n.mp4":"f697","./13d.mp4":"54ef","./13n.mp4":"a447","./50d.mp4":"88e5","./50n.mp4":"72ff"};function a(t){var e=c(t);return n(e)}function c(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=c,t.exports=a,a.id="f3b4"},f697:function(t,e,n){t.exports=n.p+"media/11n.dd9c4f11.mp4"},f716:function(t,e,n){"use strict";n("09c9")},faf2:function(t,e,n){t.exports=n.p+"img/11n.7a052770.svg"}});
//# sourceMappingURL=app.d0851f75.js.map